{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[image,setImage]=useState(null);const[processedImage,setProcessedImage]=useState(null);// Overlayed image\nconst[heatmap,setHeatmap]=useState(null);// Heatmap image\nconst[tumorProbability,setTumorProbability]=useState(null);const[progress,setProgress]=useState(0);const handleImageUpload=e=>{setImage(e.target.files[0]);setProcessedImage(null);setHeatmap(null);setTumorProbability(null);setProgress(0);};const sendRequest=async()=>{if(!image){alert(\"Please upload an image first!\");return;}const formData=new FormData();formData.append(\"image\",image);try{const response=await axios.post(\"http://localhost:5000/analyze\",formData,{onUploadProgress:progressEvent=>{const percentCompleted=Math.round(progressEvent.loaded*100/progressEvent.total);setProgress(percentCompleted);}});const data=response.data;if(data.heatmap_overlay){setProcessedImage(\"data:image/png;base64,\".concat(data.heatmap_overlay));// Overlayed processed image\nsetHeatmap(\"data:image/png;base64,\".concat(data.heatmap_overlay));// Heatmap for the heatmap section\n}setTumorProbability(data.tumor_probability);}catch(error){console.error(error);alert(\"Error processing the request.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,style:{display:\"none\"},id:\"file-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"upload-button\",children:\"ADD IMAGE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"original-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Original Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:image?/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(image),alt:\"Uploaded\",className:\"uploaded-image\"}):\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"processed-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Processed Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"processed-placeholder\",children:processedImage?/*#__PURE__*/_jsx(\"img\",{src:processedImage,alt:\"Processed\",className:\"uploaded-image\"}):\"Processed image will appear here\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"controls-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"control-button\",onClick:sendRequest,children:\"ANALYZE\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"heatmap-container\",children:[heatmap&&/*#__PURE__*/_jsx(\"div\",{className:\"heatmap\",children:/*#__PURE__*/_jsx(\"img\",{src:heatmap,alt:\"Heatmap\",className:\"heatmap-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Heatmap Legend\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-gradient\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Low\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Medium\"}),/*#__PURE__*/_jsx(\"span\",{children:\"High\"})]})]})]}),progress>0&&progress<100&&/*#__PURE__*/_jsx(\"div\",{className:\"progress-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{width:\"\".concat(progress,\"%\")}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Results\"}),tumorProbability!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"result-text\",children:[\"Tumor Probability: \",tumorProbability.toFixed(4)]}):/*#__PURE__*/_jsx(\"div\",{className:\"result-text\",children:\"No results yet\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","image","setImage","processedImage","setProcessedImage","heatmap","setHeatmap","tumorProbability","setTumorProbability","progress","setProgress","handleImageUpload","e","target","files","sendRequest","alert","formData","FormData","append","response","post","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","data","heatmap_overlay","concat","tumor_probability","error","console","className","children","type","accept","onChange","style","display","id","htmlFor","src","URL","createObjectURL","alt","onClick","width","toFixed"],"sources":["C:/Users/idpar/crc_analysis_tool/ui/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nfunction App() {\n  const [image, setImage] = useState(null);\n  const [processedImage, setProcessedImage] = useState(null); // Overlayed image\n  const [heatmap, setHeatmap] = useState(null); // Heatmap image\n  const [tumorProbability, setTumorProbability] = useState(null);\n  const [progress, setProgress] = useState(0);\n\n  const handleImageUpload = (e) => {\n    setImage(e.target.files[0]);\n    setProcessedImage(null);\n    setHeatmap(null);\n    setTumorProbability(null);\n    setProgress(0);\n  };\n\n  const sendRequest = async () => {\n    if (!image) {\n      alert(\"Please upload an image first!\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"image\", image);\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/analyze\", formData, {\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setProgress(percentCompleted);\n        },\n      });\n      const data = response.data;\n\n      if (data.heatmap_overlay) {\n        setProcessedImage(`data:image/png;base64,${data.heatmap_overlay}`); // Overlayed processed image\n        setHeatmap(`data:image/png;base64,${data.heatmap_overlay}`); // Heatmap for the heatmap section\n      }\n      setTumorProbability(data.tumor_probability);\n    } catch (error) {\n      console.error(error);\n      alert(\"Error processing the request.\");\n    }\n  };\n\n  return (\n      <div className=\"app-container\">\n        <div className=\"upload-container\">\n          <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              style={{ display: \"none\" }}\n              id=\"file-upload\"\n          />\n          <label htmlFor=\"file-upload\" className=\"upload-button\">\n            ADD IMAGE\n          </label>\n        </div>\n\n        <div className=\"image-container\">\n          <div className=\"original-container\">\n            <h3>Original Image</h3>\n            <div className=\"placeholder\">\n              {image ? <img src={URL.createObjectURL(image)} alt=\"Uploaded\" className=\"uploaded-image\" /> : \"+\"}\n            </div>\n          </div>\n          <div className=\"processed-container\">\n            <h3>Processed Image</h3>\n            <div className=\"processed-placeholder\">\n              {processedImage ? (\n                  <img src={processedImage} alt=\"Processed\" className=\"uploaded-image\" />\n              ) : (\n                  \"Processed image will appear here\"\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"controls-container\">\n          <button className=\"control-button\" onClick={sendRequest}>\n            ANALYZE\n          </button>\n        </div>\n\n        <div className=\"heatmap-container\">\n          {heatmap && (\n              <div className=\"heatmap\">\n                <img src={heatmap} alt=\"Heatmap\" className=\"heatmap-image\" />\n              </div>\n          )}\n          <div className=\"legend-container\">\n            <h4>Heatmap Legend</h4>\n            <div className=\"legend-gradient\">\n              <span>Low</span>\n              <span>Medium</span>\n              <span>High</span>\n            </div>\n          </div>\n        </div>\n\n        {progress > 0 && progress < 100 && (\n            <div className=\"progress-container\">\n              <div className=\"progress-bar\">\n                <div className=\"progress\" style={{ width: `${progress}%` }} />\n              </div>\n            </div>\n        )}\n\n        <div className=\"results-container\">\n          <h3>Results</h3>\n          {tumorProbability !== null ? (\n              <div className=\"result-text\">Tumor Probability: {tumorProbability.toFixed(4)}</div>\n          ) : (\n              <div className=\"result-text\">No results yet</div>\n          )}\n        </div>\n      </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}